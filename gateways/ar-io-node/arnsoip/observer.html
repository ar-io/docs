<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Observation and Incentives | ar.io Docs</title>
    <meta name="generator" content="VuePress 1.9.10">
    <link rel="icon" href="/docs/images/logo.png">
    <script src="https://plausible.io/js/script.js" defer="true" data-domain="docs.ar.io"></script>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Rubik:ital,wght@0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,300;1,400;1,500;1,600;1,700;1,800;1,900&amp;display=swap">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400;500;600;700&amp;display=swap">
    <meta name="description" content="ar.io documentation">
    <meta property="og:title" content="ar.io Docs Portal">
    <meta name="twitter:title" content="ar.io Docs Portal">
    <meta property="og:image" content="https://res.cloudinary.com/dopbvlqgc/image/upload/v1706802732/ario_v2nv53.png">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content="https://res.cloudinary.com/dopbvlqgc/image/upload/v1706802732/ario_v2nv53.png">
    <meta name="twitter:site" content="@ar_io_network">
    <meta name="theme-color" content="#3eaf7c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    
    <link rel="preload" href="/docs/assets/css/0.styles.6f86963d.css" as="style"><link rel="preload" href="/docs/assets/js/app.73a9ade2.js" as="script"><link rel="preload" href="/docs/assets/js/3.98350b3a.js" as="script"><link rel="preload" href="/docs/assets/js/1.6fa66b44.js" as="script"><link rel="preload" href="/docs/assets/js/41.4c4b2653.js" as="script"><link rel="prefetch" href="/docs/assets/js/11.969286a2.js"><link rel="prefetch" href="/docs/assets/js/12.2f057b22.js"><link rel="prefetch" href="/docs/assets/js/13.bff0c801.js"><link rel="prefetch" href="/docs/assets/js/14.9d6ad10a.js"><link rel="prefetch" href="/docs/assets/js/15.dc7622b5.js"><link rel="prefetch" href="/docs/assets/js/16.8f1525a3.js"><link rel="prefetch" href="/docs/assets/js/17.67c94c39.js"><link rel="prefetch" href="/docs/assets/js/18.ffe10bf3.js"><link rel="prefetch" href="/docs/assets/js/19.b1b3eb69.js"><link rel="prefetch" href="/docs/assets/js/2.fb6041aa.js"><link rel="prefetch" href="/docs/assets/js/20.43690b7e.js"><link rel="prefetch" href="/docs/assets/js/21.fbab449c.js"><link rel="prefetch" href="/docs/assets/js/22.dd9289ba.js"><link rel="prefetch" href="/docs/assets/js/23.3a91e623.js"><link rel="prefetch" href="/docs/assets/js/24.682fbefe.js"><link rel="prefetch" href="/docs/assets/js/25.ef5e4a7b.js"><link rel="prefetch" href="/docs/assets/js/26.2b8d6e98.js"><link rel="prefetch" href="/docs/assets/js/27.1076cfac.js"><link rel="prefetch" href="/docs/assets/js/28.94157a74.js"><link rel="prefetch" href="/docs/assets/js/29.66dbb6ff.js"><link rel="prefetch" href="/docs/assets/js/30.0465b18b.js"><link rel="prefetch" href="/docs/assets/js/31.c089c21f.js"><link rel="prefetch" href="/docs/assets/js/32.dd428c8a.js"><link rel="prefetch" href="/docs/assets/js/33.b0845a95.js"><link rel="prefetch" href="/docs/assets/js/34.49c73000.js"><link rel="prefetch" href="/docs/assets/js/35.defa6974.js"><link rel="prefetch" href="/docs/assets/js/36.2461882c.js"><link rel="prefetch" href="/docs/assets/js/37.622815ce.js"><link rel="prefetch" href="/docs/assets/js/38.9f6548f7.js"><link rel="prefetch" href="/docs/assets/js/39.32f30f46.js"><link rel="prefetch" href="/docs/assets/js/4.21b04763.js"><link rel="prefetch" href="/docs/assets/js/40.5a058d80.js"><link rel="prefetch" href="/docs/assets/js/42.cdfcc94d.js"><link rel="prefetch" href="/docs/assets/js/43.5cce93f6.js"><link rel="prefetch" href="/docs/assets/js/44.4686fcbb.js"><link rel="prefetch" href="/docs/assets/js/45.27b770d0.js"><link rel="prefetch" href="/docs/assets/js/46.d87ea7ea.js"><link rel="prefetch" href="/docs/assets/js/47.5e729d1f.js"><link rel="prefetch" href="/docs/assets/js/48.262ad0d3.js"><link rel="prefetch" href="/docs/assets/js/49.e3651257.js"><link rel="prefetch" href="/docs/assets/js/5.a9c6fdf6.js"><link rel="prefetch" href="/docs/assets/js/50.2ae76273.js"><link rel="prefetch" href="/docs/assets/js/51.755b8e16.js"><link rel="prefetch" href="/docs/assets/js/52.35d1d9f7.js"><link rel="prefetch" href="/docs/assets/js/53.8eecb972.js"><link rel="prefetch" href="/docs/assets/js/54.d1e8b506.js"><link rel="prefetch" href="/docs/assets/js/55.28005175.js"><link rel="prefetch" href="/docs/assets/js/56.5f27e447.js"><link rel="prefetch" href="/docs/assets/js/57.c9c3bc2e.js"><link rel="prefetch" href="/docs/assets/js/58.9170df4d.js"><link rel="prefetch" href="/docs/assets/js/59.a5543925.js"><link rel="prefetch" href="/docs/assets/js/6.86786809.js"><link rel="prefetch" href="/docs/assets/js/60.94c5c1dd.js"><link rel="prefetch" href="/docs/assets/js/61.3220b4d1.js"><link rel="prefetch" href="/docs/assets/js/62.d8b72c09.js"><link rel="prefetch" href="/docs/assets/js/63.5d8f1270.js"><link rel="prefetch" href="/docs/assets/js/64.c40204b5.js"><link rel="prefetch" href="/docs/assets/js/65.75e28982.js"><link rel="prefetch" href="/docs/assets/js/66.abf47ee2.js"><link rel="prefetch" href="/docs/assets/js/67.d882023f.js"><link rel="prefetch" href="/docs/assets/js/7.08e88e95.js"><link rel="prefetch" href="/docs/assets/js/8.256b5d42.js"><link rel="prefetch" href="/docs/assets/js/vendors~docsearch.e4af814e.js">
    <link rel="stylesheet" href="/docs/assets/css/0.styles.6f86963d.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="https://ar.io" class="home-link"><img src="/docs//images/logo-party.gif" alt="ar.io Docs" class="logo"></a> <a href="/docs/" class="home-link router-link-active"><span class="site-name can-hide">ar.io Docs</span></a> <!----> <div class="links"><a href="https://discord.gg/7zUPfN4D6g" class="nav-link-right"><svg length="current" viewBox="0 0 27 24" xmlns="http://www.w3.org/2000/svg" class="discord-logo icon"><path fill-rule="evenodd" fill="currentColor" clip-rule="evenodd" d="M15.932 11.4C15.932 12.132 15.392 12.732 14.708 12.732C14.036 12.732 13.484 12.132 13.484 11.4C13.484 10.668 14.024 10.068 14.708 10.068C15.392 10.068 15.932 10.668 15.932 11.4ZM10.328 10.068C9.644 10.068 9.104 10.668 9.104 11.4C9.104 12.132 9.656 12.732 10.328 12.732C11.012 12.732 11.552 12.132 11.552 11.4C11.564 10.668 11.012 10.068 10.328 10.068ZM23 2.472V24C19.9768 21.3284 20.9437 22.2127 17.432 18.948L18.068 21.168H4.46C3.104 21.168 2 20.064 2 18.696V2.472C2 1.104 3.104 0 4.46 0H20.54C21.896 0 23 1.104 23 2.472ZM19.58 13.848C19.58 9.984 17.852 6.852 17.852 6.852C16.124 5.556 14.48 5.592 14.48 5.592L14.312 5.784C16.352 6.408 17.3 7.308 17.3 7.308C14.4495 5.7457 11.1011 5.74542 8.336 6.96C7.892 7.164 7.628 7.308 7.628 7.308C7.628 7.308 8.624 6.36 10.784 5.736L10.664 5.592C10.664 5.592 9.02 5.556 7.292 6.852C7.292 6.852 5.564 9.984 5.564 13.848C5.564 13.848 6.572 15.588 9.224 15.672C9.224 15.672 9.668 15.132 10.028 14.676C8.504 14.22 7.928 13.26 7.928 13.26C8.10453 13.3836 8.39563 13.5437 8.42 13.56C10.4455 14.6943 13.3226 15.0659 15.908 13.98C16.328 13.824 16.796 13.596 17.288 13.272C17.288 13.272 16.688 14.256 15.116 14.7C15.476 15.156 15.908 15.672 15.908 15.672C18.56 15.588 19.58 13.848 19.58 13.848Z"></path></svg></a> <a href="https://github.com/ar-io" target="_blank" class="nav-link-right"><svg length="current" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" class="github-logo icon"><path fill-rule="evenodd" fill="currentColor" clip-rule="evenodd" d="M10 0C15.523 0 20 4.59 20 10.253C20 14.782 17.138 18.624 13.167 19.981C12.66 20.082 12.48 19.762 12.48 19.489C12.48 19.151 12.492 18.047 12.492 16.675C12.492 15.719 12.172 15.095 11.813 14.777C14.04 14.523 16.38 13.656 16.38 9.718C16.38 8.598 15.992 7.684 15.35 6.966C15.454 6.707 15.797 5.664 15.252 4.252C15.252 4.252 14.414 3.977 12.505 5.303C11.706 5.076 10.85 4.962 10 4.958C9.15 4.962 8.295 5.076 7.497 5.303C5.586 3.977 4.746 4.252 4.746 4.252C4.203 5.664 4.546 6.707 4.649 6.966C4.01 7.684 3.619 8.598 3.619 9.718C3.619 13.646 5.954 14.526 8.175 14.785C7.889 15.041 7.63 15.493 7.54 16.156C6.97 16.418 5.522 16.871 4.63 15.304C4.63 15.304 4.101 14.319 3.097 14.247C3.097 14.247 2.122 14.234 3.029 14.87C3.029 14.87 3.684 15.185 4.139 16.37C4.139 16.37 4.726 18.2 7.508 17.58C7.513 18.437 7.522 19.245 7.522 19.489C7.522 19.76 7.338 20.077 6.839 19.982C2.865 18.627 0 14.783 0 10.253C0 4.59 4.478 0 10 0"></path></svg></a> <svg length="current" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg" class="theme-toggle icon nav-link-right"><path fill-rule="evenodd" clip-rule="evenodd" d="M12 6C12.5523 6 13 5.55228 13 5V3C13 2.44771 12.5523 2 12 2C11.4477 2 11 2.44771 11 3V5C11 5.55229 11.4477 6 12 6ZM21 11H19C18.4477 11 18 11.4477 18 12C18 12.5523 18.4477 13 19 13H21C21.5523 13 22 12.5523 22 12C22 11.4477 21.5523 11 21 11ZM5 11C5.55228 11 6 11.4477 6 12C6 12.5523 5.55228 13 5 13H3C2.44771 13 2 12.5523 2 12C2 11.4477 2.44771 11 3 11H5ZM6.21828 4.99995C5.81235 4.61611 5.17212 4.63402 4.78828 5.03995C4.40444 5.44588 4.42235 6.08611 4.82828 6.46995L6.26828 7.85995C6.46353 8.04848 6.72703 8.14955 6.99828 8.13995C7.27047 8.13891 7.53047 8.02696 7.71828 7.82995C8.106 7.43991 8.106 6.80999 7.71828 6.41995L6.21828 4.99995ZM17.6916 7.85877C17.5062 8.03745 17.259 8.13774 17.0016 8.13877C16.7504 8.12219 16.5147 8.01149 16.3416 7.82877C15.9538 7.43873 15.9538 6.80881 16.3416 6.41877L17.7816 4.99877C18.1729 4.68338 18.7375 4.7074 19.1006 5.0549C19.4996 5.43676 19.5134 6.06977 19.1316 6.46877L17.6916 7.85877ZM12 18C11.4477 18 11 18.4477 11 19V21C11 21.5523 11.4477 22 12 22C12.5523 22 13 21.5523 13 21V19C13 18.4477 12.5523 18 12 18ZM16.315 16.165C16.6988 15.7674 17.3324 15.7562 17.73 16.14L19.19 17.56L19.1958 17.5658C19.5847 17.9579 19.5821 18.5911 19.19 18.98C19.0005 19.1733 18.7407 19.2816 18.47 19.28C18.2125 19.279 17.9654 19.1787 17.78 19L16.34 17.58C15.9424 17.1962 15.9312 16.5626 16.315 16.165ZM6.27001 16.1413L4.83001 17.5313C4.43789 17.9203 4.43529 18.5534 4.82421 18.9455L4.83001 18.9513C5.01951 19.1447 5.27929 19.2529 5.55001 19.2513C5.79652 19.2534 6.03513 19.1644 6.22001 19.0013L7.66001 17.6113C8.05765 17.2275 8.06885 16.594 7.68501 16.1963C7.30117 15.7987 6.66766 15.7875 6.27001 16.1713V16.1413ZM8 12C8 9.79086 9.79086 8 12 8C14.2091 8 16 9.79086 16 12C16 14.2091 14.2091 16 12 16C9.79086 16 8 14.2091 8 12Z" fill="currentColor"></path></svg> <div class="search-box"><input aria-label="Search" placeholder="Ctrl + K" autocomplete="off" spellcheck="false" readonly="readonly" value=""></div></div></header> <!----> <div class="sidebar-mask"></div> <aside class="sidebar"><!---->  <ul class="sidebar-links"><li><a href="/docs/" aria-current="page" class="sidebar-link">Welcome</a></li><li><a href="https://arweave.net/lNjWn3LpyhKC95Kqe-x8X2qgju0j98MhucdDKK85vc4" target="_blank" rel="noopener noreferrer" class="sidebar-link">White Paper<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span class="subHeaderGroupTitle">Network Overview</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/docs/introduction/" class="sidebar-link">Introduction</a></li><li><a href="/docs/arweave/" class="sidebar-link">Arweave and the Permaweb</a></li><li><a href="/docs/token/" class="sidebar-link">The IO Token</a></li><li><a href="/docs/gateways/" aria-current="page" class="sidebar-link">Gateway Architecture</a></li><li><a href="/docs/gateway-network/" class="sidebar-link">Gateway Network</a></li><li><a href="/docs/arns/" class="sidebar-link">Arweave name System (ArNS)</a></li><li><a href="/docs/gateways/ar-io-node/arnsoip/observer.html" aria-current="page" class="active sidebar-link">Observation and Incentive Protocol</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/gateways/ar-io-node/arnsoip/observer.html#overview" class="sidebar-link">Overview</a></li><li class="sidebar-sub-header"><a href="/docs/gateways/ar-io-node/arnsoip/observer.html#observation-protocol" class="sidebar-link">Observation Protocol</a></li><li class="sidebar-sub-header"><a href="/docs/gateways/ar-io-node/arnsoip/observer.html#onchain-reports" class="sidebar-link">Onchain Reports</a></li><li class="sidebar-sub-header"><a href="/docs/gateways/ar-io-node/arnsoip/observer.html#selection-of-observers" class="sidebar-link">Selection of Observers</a></li><li class="sidebar-sub-header"><a href="/docs/gateways/ar-io-node/arnsoip/observer.html#performance-evaluation" class="sidebar-link">Performance Evaluation</a></li><li class="sidebar-sub-header"><a href="/docs/gateways/ar-io-node/arnsoip/observer.html#reward-distribution" class="sidebar-link">Reward Distribution</a></li><li class="sidebar-sub-header"><a href="/docs/gateways/ar-io-node/arnsoip/observer.html#handling-inactive-gateways" class="sidebar-link">Handling Inactive Gateways</a></li><li class="sidebar-sub-header"><a href="/docs/gateways/ar-io-node/arnsoip/observer.html#observer-report-details" class="sidebar-link">Observer Report Details</a></li><li class="sidebar-sub-header"><a href="/docs/gateways/ar-io-node/arnsoip/observer.html#general-information" class="sidebar-link">General Information</a></li><li class="sidebar-sub-header"><a href="/docs/gateways/ar-io-node/arnsoip/observer.html#overall-gateway-operator-assessment" class="sidebar-link">Overall Gateway Operator Assessment</a></li><li class="sidebar-sub-header"><a href="/docs/gateways/ar-io-node/arnsoip/observer.html#arns-assessments" class="sidebar-link">ArNS Assessments</a></li><li class="sidebar-sub-header"><a href="/docs/gateways/ar-io-node/arnsoip/observer.html#example-observation-report" class="sidebar-link">Example Observation Report</a></li><li class="sidebar-sub-header"><a href="/docs/gateways/ar-io-node/arnsoip/observer.html#viewing-observation-reports" class="sidebar-link">Viewing Observation Reports</a></li></ul></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span class="subHeaderGroupTitle">Gateway Operators</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span class="subHeaderGroupTitle">Concepts</span> <span class="arrow right"></span></p> <!----></section></li><li><a href="/docs/sdk/" class="sidebar-link">SDK</a></li><li><a href="/docs/guides/sdk-release-notes.html" class="sidebar-link">SDK Release Notes</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span class="subHeaderGroupTitle">Guides</span> <span class="arrow right"></span></p> <!----></section></li><li><a href="/docs/glossary.html" class="sidebar-link">Glossary</a></li><li><a href="/docs/community-resources.html" class="sidebar-link">Community Resources</a></li></ul> </aside>  <main class="page"> <div class="theme-default-content content__default"><h1 id="observation-and-incentives"><a href="#observation-and-incentives" class="header-anchor">#</a> Observation and Incentives</h1> <h2 id="overview"><a href="#overview" class="header-anchor">#</a> Overview</h2> <p>The Observation and Incentive Protocol is designed to maintain and enhance the operational integrity of gateways on the AR.IO Network. It achieves this through a combination of incentivizing gateways for good performance and tasking those gateways to fulfill the role of &quot;observers&quot;. The protocol is intentionally simple and adaptable, employing a smart contract-based method for onchain “voting” to assess peer performance while being flexible on how that performance is measured. This setup permits gateway and observer nodes to experiment and evolve best practices for performance evaluation, all while operating within the bounds of the network's immutable smart contract, thus eliminating the need for frequent contract updates (forks).</p> <p>In this protocol, observers evaluate their gateway peers' performance to resolve ArNS names. Their aim is to ensure each gateway in the network accurately resolves a subset of names and assigning a pass / fail score based on their findings.</p> <p>A key component of the protocol is its reward mechanism. This system is predicated on gateway performance and compliance with observation duties. Gateways that excel are tagged as &quot;Functional Gateways&quot; and earn rewards, while those that do not meet the criteria, “Deficient Gateways” risk facing penalties – namely, the lack of rewards.</p> <p>Funds for incentive rewards are derived from the protocol balance, which consists of IO tokens collected from ArNS asset purchases. Every epoch, this balance is utilized to distribute rewards to qualifying gateways and observers based on certain performance metrics.</p> <h2 id="observation-protocol"><a href="#observation-protocol" class="header-anchor">#</a> Observation Protocol</h2> <p>The Observation protocol is organized around epochs, periods of time that are broken into an observation reporting and tallying phase. The protocol is followed across each epoch, promoting consistent healthy network activity that can form pro-social behaviors and react to malicious circumstances.</p> <img src="/docs/images/observer-1.png" class="amazingdiagram"> <div class="caption">Observation and Incentive Protocol</div> <ul><li>To participate in the epoch, a gateway must have already staked IO tokens and joined the network before it starts.</li> <li>Each epoch (approximately 7 block-days), a random pool of active gateways will be selected (prescribed) to perform observation duties.</li> <li>Within the epoch, observers are tasked with evaluating a subset of ArNS names for each gateway in the network.</li> <li>By the end of the epoch’s observation reporting period, the observer must upload its standardized health observation report to Arweave.</li> <li>The observer must also submit an interaction to the AR.IO contract to save its report transaction ID and a summary of all failed gateways for tallying by the incentive protocol.</li> <li>After the observation reporting period and tallying periods have closed, the payout is performed on the next contract state tick.
<ul><li>This payout rewards gateways and observers who have performed their duties.</li> <li>Gateways that did not meet the performance threshold will not receive rewards.</li> <li>Observers that did not perform their duties are not rewarded and in addition, are penalized on any gateway rewards received.</li></ul></li> <li>Community builders and application users can verify and leverage the report and distribution information to make more informed decisions on which gateway to use.</li></ul> <h2 id="onchain-reports"><a href="#onchain-reports" class="header-anchor">#</a> Onchain Reports</h2> <p>The to-be-evaluated ArNS names include a set of names randomly determined by the protocol, known as “prescribed names”, which are common across all observers within the epoch, as well as a set of “chosen names” picked at the discretion of each individual observer. “Prescribed names” are assigned to act as a common denominator / baseline while “chosen names” allow each observer to evaluate names that may be important to their operation.</p> <p>Each observer shall assess the performance of the selected ArNS names (across all gateways) and summarize those findings in a report which details the following:</p> <ul><li><p>General Information: Observer's Arweave address, starting and concluding block heights for the epoch.</p></li> <li><p>Gateway Operator Assessment: The expected and actual Arweave addresses of observed gateways, along with a summary verdict (pass or fail), and accompanying reasons for failure.</p></li> <li><p>Detailed ArNS Evaluations: For each gateway, it includes the domain name, evaluated ArNS names, the associated block height, transaction IDs, data hashes, a &quot;pass or fail&quot; score, reasons for failure (if any), and performance metrics like time to the first byte.</p></li></ul> <p>A comprehensive list of report criteria can be found in the Appendix.</p> <p>Observers shall upload their completed reports (in JSON format) to the Arweave network as an onchain audit trail. In addition, observers shall submit an interaction to the AR.IO smart contact detailing each gateway that they observed to have “failed” their assessments. This is tallied and used to determine the reward distribution.</p> <h2 id="selection-of-observers"><a href="#selection-of-observers" class="header-anchor">#</a> Selection of Observers</h2> <p>The observer selection process employs a random-weighted selection method. By combining random selection with weighted criteria like stake, tenure, and past rewards, the process aims to ensure both fairness and acknowledgment of consistent performance. This method allows for a systematic yet randomized approach to selecting gateways for observation tasks.</p> <h3 id="criteria-for-selection"><a href="#criteria-for-selection" class="header-anchor">#</a> Criteria for Selection</h3> <p>Up to 50 gateways can be chosen as observers per epoch. If the GAR contains 50 or fewer gateways, then every gateway is designated as an observer for that epoch. If there are greater than 50, then randomized selection shall be utilized.</p> <p>The weighted selection criteria will consider the following for each gateway:</p> <ul><li><p>Stake Weight (SW): This factor considers how financially committed a gateway is to the network. It is the ratio of the amount of IO tokens staked by the gateway relative to the network minimum and is expressed as SW = Gateway Stake / Minimum Stake.</p></li> <li><p>Tenure Weight (TW): This factor considers how long a gateway has been part of the network, with a maximum value capped at 4. It is calculated as TW = Gateway Network Tenure / 6 block-months. This means that the maximum value is achieved after 2 block-years of participation in the network.</p></li> <li><p>Gateway Reward Ratio Weight (GRRW): This factor is a proxy for a gateway’s performance at resolving ArNS names. The weight represents the ratio of epochs in which a gateway received rewards for correctly resolving names relative to their total time on the network.</p></li> <li><p>Observer Reward Ratio Weight (ORRW): This factor is a proxy for a gateway’s performance at fulfilling observation duties. The weight reflects the ratio of epochs in which a gateway, as an observer, successfully submitted observation reports relative to their total periods of service as an observer.</p></li></ul> <h3 id="weight-calculation-and-normalization"><a href="#weight-calculation-and-normalization" class="header-anchor">#</a> Weight Calculation and Normalization</h3> <p>For each gateway, a composite weight (CW) is computed, combining the Stake Weight, Tenure Weight, Gateway Reward Ratio Weight, and Observer Reward Ratio Weight.</p> <p>The formula used is: <code>CW = SW x TW x GRRW x ORRW</code>.</p> <p>These weights are then normalized across the network to create a continuous range, allowing for proportional random selection based on the weighted scores. The normalized composite weight (N_CW) for each gateway indicates its likelihood of being chosen as an observer and is calculated by dividing the gateway's CW by the sum of all CWs.</p> <h3 id="random-selection-process"><a href="#random-selection-process" class="header-anchor">#</a> Random Selection Process</h3> <p>The selection of observers is randomized within the framework of these weights. A set of unique random numbers is generated within the total range of normalized weights. For each random number, the gateway whose normalized weight range encompasses this number is selected. This system ensures that while gateways with higher weights are more likely to be chosen, all gateways maintain a non-zero chance of selection, preserving both fairness and meritocracy in the observer assignment process.</p> <h2 id="performance-evaluation"><a href="#performance-evaluation" class="header-anchor">#</a> Performance Evaluation</h2> <p>Consider the following classifications:</p> <ul><li><p><strong>Functional or Passed Gateways</strong>: are gateways that meet or surpass the network’s performance and quality standards.</p></li> <li><p><strong>Deficient or Failed Gateways</strong>: are gateways that fall short of the network's performance expectations.</p></li> <li><p><strong>Functional or Submitted Observers</strong>: are selected observers who diligently perform their duties and submit observation reports and contract interactions.</p></li> <li><p><strong>Deficient or Failed Observers</strong>: are selected observers who do not fulfill their duty of submitting observation reports and contract interactions.</p></li></ul> <p>At the end of an epoch, the smart contract will assess the results from the observers during a “tallying period” and determine a pass / fail score for each gateway:</p> <ul><li><p>If greater than or equal to 50% of submitted observer contract interactions indicate a PASS score, then that gateway is considered Functional and eligible for gateway rewards.</p></li> <li><p>Else, if greater than 50% of submitted observer contract interactions indicate a FAIL score, then that gateway is considered Deficient and ineligible for gateway rewards.</p></li></ul> <p>These results will determine how reward distributions are made for that epoch. Rewards shall be distributed after the epoch’s tallying period is complete.</p> <h2 id="reward-distribution"><a href="#reward-distribution" class="header-anchor">#</a> Reward Distribution</h2> <p>Each epoch, a defined portion of the protocol balance (e.g., 0.25%) is earmarked for distribution as rewards. From this allocation, two distinct reward categories are derived:</p> <ol><li><p>Base Gateway Reward: This is the portion of the reward allocated to each Functional Gateway within the network and is calculated as:</p> <p><code>[Epoch Reward Allocation x 95% / Total Gateways in the Network]</code></p></li> <li><p>Base Observer Reward: Observers, due to their additional responsibilities, have a separate reward calculated as:</p> <p><code>[Epoch Reward Allocation x 5% / Total Selected Observers for the Epoch]</code></p></li></ol> <h3 id="distribution-based-on-performance"><a href="#distribution-based-on-performance" class="header-anchor">#</a> Distribution Based on Performance</h3> <p>The reward distribution is contingent on the performance classifications derived from the Performance Evaluation:</p> <ul><li><p>Functional Gateways: Gateways that meet the performance criteria receive the Base Gateway Reward.</p></li> <li><p>Deficient Gateways: Gateways falling short in performance do not receive any gateway rewards.</p></li> <li><p>Functional Observers: Observers that fulfilled their duty receive the Base Observer Reward.</p></li> <li><p>Deficient Observers: Observers failing to meet their responsibilities do not receive observer rewards. Furthermore, if they are also Functional Gateways, their gateway reward is reduced by 25% for that epoch as a consequence for not performing their observation duty.</p></li></ul> <h3 id="undistributed-rewards"><a href="#undistributed-rewards" class="header-anchor">#</a> Undistributed Rewards</h3> <p>In cases where rewards are not distributed, either due to the inactivity or deficiency of gateways or observers, the allocated tokens shall remain in the protocol balance and carry forward to the next epoch. This mechanism is in place to discourage observers from frivolously marking their peers as offline in hopes of attaining a higher portion of the reward pool.</p> <h2 id="handling-inactive-gateways"><a href="#handling-inactive-gateways" class="header-anchor">#</a> Handling Inactive Gateways</h2> <p>To maintain network efficiency and reduce contract state bloat, gateways that are consistently offline, specifically for six (6) consecutive epochs, and thus fail to receive rewards, will be automatically removed from the Gateway Active Registry (GAR) as well as have their staked IO tokens unlocked and returned to the gateway operator.</p> <h2 id="observer-report-details"><a href="#observer-report-details" class="header-anchor">#</a> Observer Report Details</h2> <p>Each observer shall assess the performance of the selected ArNS names (across all AR.IO gateways) and summarize those findings in a report which details the following:</p> <h2 id="general-information"><a href="#general-information" class="header-anchor">#</a> General Information</h2> <ul><li>The observer's Arweave address.</li> <li>The starting block height of the epoch.</li> <li>The block height at which the report was generated.</li></ul> <h2 id="overall-gateway-operator-assessment"><a href="#overall-gateway-operator-assessment" class="header-anchor">#</a> Overall Gateway Operator Assessment</h2> <ul><li>Gateway FQDN.</li> <li>The Arweave address that the observer expects to be the owner / operator of the gateway.</li> <li>The Arweave address that the observed gateway actually reports.</li> <li>A final “pass or fail” rollup determination for each observed gateway.</li> <li>Failure reason (if applicable).</li></ul> <h2 id="arns-assessments"><a href="#arns-assessments" class="header-anchor">#</a> ArNS Assessments</h2> <ul><li>Observed ArNS name (for all prescribed and chosen names).</li> <li>The block height at which the name was assessed.</li> <li>The expected status code.</li> <li>The resolved status code.</li> <li>The transaction ID that the observer expects the associated name to resolve to.</li> <li>The transaction ID that the gateway actually resolves to.</li> <li>The data hash that the observer expects the associated name to resolve to.</li> <li>The data hash that the gateway actually resolves to.</li> <li>The “pass or fail” score associated with the observed name, at the observer’s discretion.</li> <li>Failure reason (if applicable).</li> <li>Timing / performance information associated with the name resolution such as time to first byte and total duration.</li></ul> <p>The above is repeated for the entire name pool and across each gateway in the GAR.</p> <h2 id="example-observation-report"><a href="#example-observation-report" class="header-anchor">#</a> Example Observation Report</h2> <p><a href="https://arweave.net/GG1YCFc7wQxKvQ1qD1lTEp2OAMBs4VzrpfdmeeLyjDI" target="_blank" rel="noopener noreferrer">https://arweave.net/GG1YCFc7wQxKvQ1qD1lTEp2OAMBs4VzrpfdmeeLyjDI <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="viewing-observation-reports"><a href="#viewing-observation-reports" class="header-anchor">#</a> Viewing Observation Reports</h2> <p>You can easily view an observation report in a human readable format through your terminal with the following command:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">curl</span> <span class="token parameter variable">-L</span> https://arweave.net/<span class="token operator">&lt;</span>txId<span class="token operator">&gt;</span> <span class="token operator">|</span> zcat <span class="token operator">|</span> jq <span class="token builtin class-name">.</span>
</code></pre></div><p>Be sure to replace <code>&lt;txId&gt;</code> with the txId of the report you want to view.</p> <h3 id="example"><a href="#example" class="header-anchor">#</a> example</h3> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">curl</span> <span class="token parameter variable">-L</span> https://arweave.net/H3zDmoDkpOg0U95rejBEq6gUnww_CEVscTuQVqfSbxk <span class="token operator">|</span> zcat <span class="token operator">|</span> jq <span class="token builtin class-name">.</span>
</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><div class="inner"><a href="/docs/arns/" class="nav-link prev" style="background-color:#555;"><i class="pointer last">←</i> <span>Arweave name System (ArNS)</span></a> <div class="spacer"></div> <!----></div></div> </main></div><div class="global-ui"></div></div>
    <script src="/docs/assets/js/app.73a9ade2.js" defer></script><script src="/docs/assets/js/3.98350b3a.js" defer></script><script src="/docs/assets/js/1.6fa66b44.js" defer></script><script src="/docs/assets/js/41.4c4b2653.js" defer></script>
  </body>
</html>
