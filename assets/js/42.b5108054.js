(window.webpackJsonp=window.webpackJsonp||[]).push([[42],{343:function(t,e,a){"use strict";a.r(e);var o=a(10),s=Object(o.a)({},(function(){var t=this,e=t._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"delegated-staking-settings"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#delegated-staking-settings"}},[t._v("#")]),t._v(" Delegated Staking Settings")]),t._v(" "),e("h2",{attrs:{id:"overview"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#overview"}},[t._v("#")]),t._v(" Overview")]),t._v(" "),e("p",[t._v("Gateway operators can choose to allow other people to stake tokens on their gateway. This is called “delegated staking”, and it increases the number of tokens staked for a given gateway. The additionally staked tokens result in a greater "),e("code",[t._v("stakeWeight")]),t._v(" for the gateway - increasing it’s likelihood chosen as an observer and potentially receive additional rewards for a given epoch (assuming that the gateway’s observer is working properly). To incentivize this, you can set a portion of your gateway and observer rewards to be given to the people who stake on your gateway.")]),t._v(" "),e("p",[t._v("By default, delegated staking is disabled. You will need to enable it, and configure your settings, by running the "),e("code",[t._v("update-gateway-settings")]),t._v(" script from the "),e("a",{attrs:{href:"https://github.com/ar-io/testnet-contract",target:"_blank",rel:"noopener noreferrer"}},[t._v("testnet contract repo"),e("OutboundLink")],1),t._v(".")]),t._v(" "),e("h2",{attrs:{id:"installing-the-testnet-contract-repo"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#installing-the-testnet-contract-repo"}},[t._v("#")]),t._v(" Installing the Testnet Contract repo")]),t._v(" "),e("p",[t._v("Enabling delegated staking can be accomplished very easily by running a script found in the "),e("a",{attrs:{href:"https://github.com/ar-io/testnet-contract",target:"_blank",rel:"noopener noreferrer"}},[t._v("testnet-contract repo"),e("OutboundLink")],1),t._v(" on Github.")]),t._v(" "),e("p",[t._v("If you already have the repo installed, make sure that it is updated to the latest version by opening it in a terminal and running "),e("code",[t._v("git pull")]),t._v(".")]),t._v(" "),e("p",[t._v("If you receive an error, try "),e("code",[t._v("git stash")]),t._v(" to remove any changes you may have made locally and then "),e("code",[t._v("git pull")]),t._v(" again.")]),t._v(" "),e("p",[t._v("If you do not have the repo installed, make sure that you have "),e("a",{attrs:{href:"https://git-scm.com/downloads",target:"_blank",rel:"noopener noreferrer"}},[t._v("git"),e("OutboundLink")],1),t._v(" installed on your computer, navigate to the location where you would like to save it, and run")]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" clone https://github.com/ar-io/testnet-contract\n")])])]),e("p",[t._v("This will copy all of the files from github into a new folder on your computer.")]),t._v(" "),e("h2",{attrs:{id:"installing-dependencies"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#installing-dependencies"}},[t._v("#")]),t._v(" Installing dependencies")]),t._v(" "),e("p",[t._v("Once the repo is installed, you need to install the code that it relies on to work. We do this using "),e("a",{attrs:{href:"https://yarnpkg.com/getting-started/install",target:"_blank",rel:"noopener noreferrer"}},[t._v("Yarn"),e("OutboundLink")],1),t._v(".")]),t._v(" "),e("p",[t._v("Navigate your terminal into the newly created repo folder.")]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v(" testnet-contract\n")])])]),e("p",[t._v("and then install dependencies with:")]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[t._v("yarn")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v("\n")])])]),e("h2",{attrs:{id:"providing-wallet"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#providing-wallet"}},[t._v("#")]),t._v(" Providing Wallet")]),t._v(" "),e("p",[t._v("In order to update your gateway settings, you need to run the script using the wallet associated with your gateway. The easiest way to provide your wallet is to put the path to your Keyfile in your "),e("code",[t._v(".env")]),t._v(" as "),e("code",[t._v("WALLET_FILE_PATH")])]),t._v(" "),e("p",[t._v("You will need a small amount of AR in this wallet in order to pay for the contract interaction.")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//.env")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("WALLET_FILE_PATH")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("path"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("to"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("wallet"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])])]),t._v(" "),e("h2",{attrs:{id:"running-the-script"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#running-the-script"}},[t._v("#")]),t._v(" Running the Script")]),t._v(" "),e("p",[t._v("Once the repo is installed and your wallet is provided, all that is left is to run the script. This can be done with a single command in your terminal.")]),t._v(" "),e("p",[t._v("Make sure your terminal is in the root folder of the testnet-contract repo (the one named 'testnet-contract'), and run this command:")]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[t._v("yarn")]),t._v(" update-gateway-settings\n")])])]),e("p",[t._v("You will be prompted in your terminal for the values of various settings on your gateway. The default value for each prompt will be your current setting, so if you don't want to change something, simply press "),e("code",[t._v("ENTER")]),t._v(" to move to the next prompt.")]),t._v(" "),e("ul",[e("li",[e("strong",[t._v("Enter your a friendly name for your gateway")]),t._v(": This is a name or "),e("code",[t._v("label")]),t._v(" for your gateway.")]),t._v(" "),e("li",[e("strong",[t._v("Enter your domain for this gateway")]),t._v(': This is the domain name for your gateway. It should be the full domain, without any protocol ("http/https") prefix. For example: "vilenarios.com".')]),t._v(" "),e("li",[e("strong",[t._v("Enter port used for this gateway")]),t._v(": The primary access port people should use to access your gateway. Except for some advanced use cases, this value should be 443.")]),t._v(" "),e("li",[e("strong",[t._v("Enter protocol used for this gateway")]),t._v(": http or https. Most users will want to use https.")]),t._v(" "),e("li",[e("strong",[t._v("Enter gateway properties transaction ID (use default if not sure)")]),t._v(": Arweave TxId for your gateway properties setting. This is not a widely implemented feature yet, so most people will just press "),e("code",[t._v("ENTER")]),t._v(" to accept the default value.")]),t._v(" "),e("li",[e("strong",[t._v("Enter short note to further describe this gateway")]),t._v(": A short description of your gateway. Must be 256 characters or less.")]),t._v(" "),e("li",[e("strong",[t._v("Enter the observer wallet public address")]),t._v(": The public wallet address being used for your Observer. It will default to the wallet being used to join the network.")]),t._v(" "),e("li",[e("strong",[t._v("Enable or disable auto staking?")]),t._v(": If yes, rewards will automatically be staked on your gateway instead of going to your wallet.")]),t._v(" "),e("li",[e("strong",[t._v("Enable or disable delegated staking?")]),t._v(": Do you want to allow people to stake tokens on your gateway? "),e("code",[t._v("y")]),t._v(" for yes or "),e("code",[t._v("n")]),t._v(" for no.")]),t._v(" "),e("li",[e("strong",[t._v("Enter the percent of gateway and observer rewards given to delegates")]),t._v(": What percentage of your gateway rewards do you want to give to your delegated stakers? Defaults to 10%.")]),t._v(" "),e("li",[e("strong",[t._v("Enter the minimum  delegate stake for this gateway (in IO)")]),t._v(": The minimum number of tokens a person has to stake to delegate to your gateway. Defaults to 100.")]),t._v(" "),e("li",[e("strong",[t._v("CONFIRM GATEWAY DETAILS?")]),t._v(": This is your last chance to review all of your settings before submitting the transaction. "),e("code",[t._v("y")]),t._v(" to confirm and submit, "),e("code",[t._v("n")]),t._v(" to cancel.")])])])}),[],!1,null,null,null);e.default=s.exports}}]);