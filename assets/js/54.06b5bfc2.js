(window.webpackJsonp=window.webpackJsonp||[]).push([[54],{344:function(t,e,a){"use strict";a.r(e);var s=a(10),n=Object(s.a)({},(function(){var t=this,e=t._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"delegated-staking"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#delegated-staking"}},[t._v("#")]),t._v(" Delegated Staking")]),t._v(" "),e("h2",{attrs:{id:"overview"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#overview"}},[t._v("#")]),t._v(" Overview")]),t._v(" "),e("p",[t._v("Delegated staking is a process by which a person can stake their own IO tokens on someone elses ar.io gateway. The additional staked tokens increase that gateway's chance to be selected as an observer, and so they have the potential to earn more rewards.\nIn exchange, the person who delegates the tokens will receive a share of the gateway's rewards. Gateway operators can set the percentage of rewards are available for delegating wallets.")]),t._v(" "),e("p",[t._v("You can find more specific information about delegated staking and how rewards are distributed in the "),e("a",{attrs:{href:"https://whitepaper_ar-io.arweave.dev/",target:"_blank",rel:"noopener noreferrer"}},[t._v("ar.io whitepaper"),e("OutboundLink")],1),t._v(".")]),t._v(" "),e("h2",{attrs:{id:"installing-the-testnet-contract-repo"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#installing-the-testnet-contract-repo"}},[t._v("#")]),t._v(" Installing the Testnet Contract repo")]),t._v(" "),e("p",[t._v("Delegating tokens can be accomplished very easily by running a script found in the "),e("a",{attrs:{href:"https://github.com/ar-io/testnet-contract",target:"_blank",rel:"noopener noreferrer"}},[t._v("testnet-contract repo"),e("OutboundLink")],1),t._v(" on Github.")]),t._v(" "),e("p",[t._v("If you already have the repo installed, make sure that it is updated to the latest version by opening it in a terminal and running "),e("code",[t._v("git pull")]),t._v(".")]),t._v(" "),e("p",[t._v("If you receive an error, try "),e("code",[t._v("git stash")]),t._v(" to remove any changes you may have made locally and then "),e("code",[t._v("git pull")]),t._v(" again.")]),t._v(" "),e("p",[t._v("If you do not have the repo installed, make sure that you have "),e("a",{attrs:{href:"https://git-scm.com/downloads",target:"_blank",rel:"noopener noreferrer"}},[t._v("git"),e("OutboundLink")],1),t._v(" installed on your computer, navigate to the location where you would like to save it, and run")]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" clone https://github.com/ar-io/testnet-contract\n")])])]),e("p",[t._v("This will copy all of the files from github into a new folder on your computer.")]),t._v(" "),e("h2",{attrs:{id:"installing-dependencies"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#installing-dependencies"}},[t._v("#")]),t._v(" Installing dependencies")]),t._v(" "),e("p",[t._v("Once the repo is installed, you need to install the code that it relies on to work. We do this using "),e("a",{attrs:{href:"https://yarnpkg.com/getting-started/install",target:"_blank",rel:"noopener noreferrer"}},[t._v("Yarn"),e("OutboundLink")],1),t._v(".")]),t._v(" "),e("p",[t._v("Navigate your terminal into the newly created repo folder.")]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v(" testnet-contract\n")])])]),e("p",[t._v("and then install dependencies with:")]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[t._v("yarn")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v("\n")])])]),e("h2",{attrs:{id:"providing-wallet"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#providing-wallet"}},[t._v("#")]),t._v(" Providing Wallet")]),t._v(" "),e("p",[t._v("In order to send tokens to be staked, you will need to use a wallet that has IO tokens in it. You can provide this wallet by saving a keyfile in the testnet-contract repo, and name the file "),e("code",[t._v("key.json")]),t._v(".")]),t._v(" "),e("p",[t._v("You will need a small amount of AR in this wallet, in addition to the IO tokens, in order to pay for the contract interaction.")]),t._v(" "),e("h2",{attrs:{id:"editing-the-script"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#editing-the-script"}},[t._v("#")]),t._v(" Editing the script")]),t._v(" "),e("p",[t._v("You can set the number of tokens you want to stake, and the gateway where you want to stake them, by editing the file for the script. The script is located at "),e("code",[t._v("testnet-contract > tools > delegate-stake.ts")]),t._v(".")]),t._v(" "),e("p",[t._v("Open the file in any code or text editor, and look for the two lines that will need to be changed:")]),t._v(" "),e("div",{staticClass:"language-ts extra-class"},[e("pre",{pre:!0,attrs:{class:"language-ts"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" qty "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("500")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),e("p",[t._v("This line sets the number of tokens you want to stake on a gateway. All you need to do is change the number after the "),e("code",[t._v("=")]),t._v(" to however many IO tokens you want to stake.")]),t._v(" "),e("p",[t._v("This is a per-transaction number, so if you already have 500 tokens staked on a gateway and you want to increase that to 1000, you would set the qty to 500, not 1000.")]),t._v(" "),e("div",{staticClass:"language-ts extra-class"},[e("pre",{pre:!0,attrs:{class:"language-ts"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" target "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'QGWqtJdLLgm2ehFWiiPzMaoFLD50CnGuzZIPEdoDRGQ'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),e("p",[t._v("This line sets the target gateway where you want to stake the tokens. Replace the portion after the "),e("code",[t._v("=")]),t._v(" with the Arweave wallet address of the gateway. Be sure to put the address inside of quotes so that the script can read it properly.")]),t._v(" "),e("p",[t._v("You can find the wallet address of a gateway by going to "),e("code",[t._v("https://<gateway-domain-name>/ar-io/info")]),t._v(".")]),t._v(" "),e("p",[t._v("Save and exit your editor.")]),t._v(" "),e("h2",{attrs:{id:"running-the-script"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#running-the-script"}},[t._v("#")]),t._v(" Running the Script")]),t._v(" "),e("p",[t._v("Once the above is set all that is left is to run the script. This can be done with a single command in your terminal.")]),t._v(" "),e("p",[t._v("Make sure your terminal is in the root folder of the testnet-contract repo (the one named 'testnet-contract'), and run this command:")]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[t._v("yarn")]),t._v(" ts-node tools/delegate-stake.ts\n")])])]),e("h2",{attrs:{id:"withdrawing-stake"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#withdrawing-stake"}},[t._v("#")]),t._v(" Withdrawing Stake")]),t._v(" "),e("p",[t._v("If you want to take your staked tokens out of a gateway, the process is very similar. You will be editing and running the "),e("code",[t._v("decrease-delegate-stake.ts")]),t._v(" file instead of the "),e("code",[t._v("delegate-stake.ts")]),t._v(" file.")]),t._v(" "),e("p",[t._v("The structures of bot files are similar, and there are only the same two lines to edit:")]),t._v(" "),e("div",{staticClass:"language-ts extra-class"},[e("pre",{pre:!0,attrs:{class:"language-ts"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" qty "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("500")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),e("p",[t._v("This line represents the number of tokens you want to remove from staking.")]),t._v(" "),e("div",{staticClass:"language-ts extra-class"},[e("pre",{pre:!0,attrs:{class:"language-ts"}},[e("code",[t._v("  "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" target "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'QGWqtJdLLgm2ehFWiiPzMaoFLD50CnGuzZIPEdoDRGQ'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),e("p",[t._v("This line represents the address of the gateway you want to withdraw from.")]),t._v(" "),e("p",[t._v("Only the wallet that owns the staked tokens can withdraw, so make sure you are using the same wallet to run the script as you used to stake the tokens initially.")]),t._v(" "),e("p",[t._v("Run the script in the same way you ran the staking script, being sure to use the decrease file and not the staking file.")]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[t._v("yarn")]),t._v(" ts-node tools/decrease-delegate-stake.ts\n")])])]),e("p",[t._v("Token withdrawals are not instant, and there is a period where the tokens will remain unavailable after you run the script. The length of this hold may vary a bit during testnet while optimal times are iterated upon.")])])}),[],!1,null,null,null);e.default=n.exports}}]);